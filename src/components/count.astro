---
// SimpleCountdown.astro
---
<section class="text-center py-12 bg-white min-h-[60vh] flex flex-col items-center justify-center">
  <h2 class="text-5xl font-extrabold mb-8 text-purple-600 tracking-wide">TIME REMAINING</h2>

  <div id="countdown" class="flex justify-center space-x-6">
    {['days', 'hours', 'minutes', 'seconds'].map((unit) => (
      <div class="flex flex-col items-center" key={unit}>
        <div class="flip-card bg-purple-700 text-white text-4xl font-bold w-20 h-24 flex items-center justify-center rounded-xl shadow-lg transition-transform duration-500 ease-in-out" id={unit}>
          00
        </div>
        <div class="mt-2 text-purple-700 tracking-widest">{unit.toUpperCase()}</div>
      </div>
    ))}
  </div>
</section>

<script>
  function updateCountdown() {
    const now = new Date();
    const targetDate = new Date();
    targetDate.setDate(now.getDate() + 40); // Change as per your target event
    targetDate.setHours(0, 0, 0, 0);

    const timeLeft = targetDate.getTime() - now.getTime();

    const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
    const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

    updateCard('days', days);
    updateCard('hours', hours);
    updateCard('minutes', minutes);
    updateCard('seconds', seconds);
  }

  function updateCard(unit, value) {
    const newValue = String(value).padStart(2, '0');
    const card = document.getElementById(unit);

    if (card.textContent !== newValue) {
      card.classList.add('scale-125');
      setTimeout(() => {
        card.textContent = newValue;
        card.classList.remove('scale-125');
      }, 300);
    }
  }

  setInterval(updateCountdown, 1000);
  updateCountdown();
</script>

<style>
  .flip-card {
    transition: transform 0.3s ease;
  }

  .scale-125 {
    transform: scale(1.25);
  }

  .card-background {
    width: 400px;
    height: 400px;
    background: linear-gradient(135deg, #5a6cff 0%, #a259e6 100%);
    border-radius: 20px;
    padding: 32px;
    box-sizing: border-box;
  }

  .card-background h2,
  .card-background p,
  .card-background li {
    font-size: 18px;
  }
</style>
